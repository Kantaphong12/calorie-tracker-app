import{c as Y,a1 as Ht,a2 as ra,k as Ie,g as Je,r as p,a3 as sa,w as re,q as mt,h as w,a4 as Pe,l as Ze,Z as J,a5 as Ft,a6 as ia,a7 as da,a8 as ca,O as va,d as We,P as ce,Q as z,F as ht,Y as V,f as d,U as g,R as L,S as O,V as ue,W as B,X as A,a0 as ma,a9 as ft,o as Tt,_ as fa,aa as ga,ab as ha,J as ya,ac as $t}from"./index-DTGUN23g.js";import{u as yt,a as bt}from"./use-dark-BJ13Vz0Z.js";import{u as ba,a as _a,b as pa,Q as P,c as Ee,d as et,e as xa}from"./option-sizes-Cso2NTy7.js";import{p as Q,Q as Se,l as ne,m as Me,n as Da}from"./QItem-BirB7Q4p.js";import{u as Ma,a as Va,Q as wa,b as Ot,c as ka,d as Sa,e as Ca,f as Le,_ as Lt,g as ve,h as Ia,C as $a}from"./QTable-ugaWs399.js";import{Q as qa}from"./QCardActions-BWEV8Q1W.js";function Ya(){let e=Object.create(null);return{getCache:(n,v)=>e[n]===void 0?e[n]=typeof v=="function"?v():v:e[n],setCache(n,v){e[n]=v},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const Ce=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function za(e,n,v){return Object.prototype.toString.call(e)==="[object Date]"&&(v=e.getDate(),n=e.getMonth()+1,e=e.getFullYear()),Fa(_t(e,n,v))}function qt(e,n,v){return jt(Ha(e,n,v))}function Ua(e){return Na(e)===0}function tt(e,n){return n<=6?31:n<=11||Ua(e)?30:29}function Na(e){const n=Ce.length;let v=Ce[0],i,a,u,m,o;if(e<v||e>=Ce[n-1])throw new Error("Invalid Jalaali year "+e);for(o=1;o<n&&(i=Ce[o],a=i-v,!(e<i));o+=1)v=i;return m=e-v,a-m<6&&(m=m-a+G(a+4,33)*33),u=ie(ie(m+1,33)-1,4),u===-1&&(u=4),u}function At(e,n){const v=Ce.length,i=e+621;let a=-14,u=Ce[0],m,o,x,N,h;if(e<u||e>=Ce[v-1])throw new Error("Invalid Jalaali year "+e);for(h=1;h<v&&(m=Ce[h],o=m-u,!(e<m));h+=1)a=a+G(o,33)*8+G(ie(o,33),4),u=m;N=e-u,a=a+G(N,33)*8+G(ie(N,33)+3,4),ie(o,33)===4&&o-N===4&&(a+=1);const b=G(i,4)-G((G(i,100)+1)*3,4)-150,E=20+a-b;return n||(o-N<6&&(N=N-o+G(o+4,33)*33),x=ie(ie(N+1,33)-1,4),x===-1&&(x=4)),{leap:x,gy:i,march:E}}function Ha(e,n,v){const i=At(e,!0);return _t(i.gy,3,i.march)+(n-1)*31-G(n,7)*(n-7)+v-1}function Fa(e){const n=jt(e).gy;let v=n-621,i,a,u;const m=At(v,!1),o=_t(n,3,m.march);if(u=e-o,u>=0){if(u<=185)return a=1+G(u,31),i=ie(u,31)+1,{jy:v,jm:a,jd:i};u-=186}else v-=1,u+=179,m.leap===1&&(u+=1);return a=7+G(u,30),i=ie(u,30)+1,{jy:v,jm:a,jd:i}}function _t(e,n,v){let i=G((e+G(n-8,6)+100100)*1461,4)+G(153*ie(n+9,12)+2,5)+v-34840408;return i=i-G(G(e+100100+G(n-8,6),100)*3,4)+752,i}function jt(e){let n=4*e+139361631;n=n+G(G(4*e+183187720,146097)*3,4)*4-3908;const v=G(ie(n,1461),4)*5+308,i=G(ie(v,153),5)+1,a=ie(G(v,153),12)+1;return{gy:G(n,1461)-100100+G(8-a,6),gm:a,gd:i}}function G(e,n){return~~(e/n)}function ie(e,n){return e-~~(e/n)*n}const Ta=["gregorian","persian"],Yt={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Ta.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Oa=["update:modelValue"];function we(e){return e.year+"/"+Q(e.month)+"/"+Q(e.day)}function La(e,n){const v=Y(()=>e.disable!==!0&&e.readonly!==!0),i=Y(()=>v.value===!0?0:-1),a=Y(()=>{const o=[];return e.color!==void 0&&o.push(`bg-${e.color}`),e.textColor!==void 0&&o.push(`text-${e.textColor}`),o.join(" ")});function u(){return e.locale!==void 0?{...n.lang.date,...e.locale}:n.lang.date}function m(o){const x=new Date,N=o===!0?null:0;if(e.calendar==="persian"){const h=za(x);return{year:h.jy,month:h.jm,day:h.jd}}return{year:x.getFullYear(),month:x.getMonth()+1,day:x.getDate(),hour:N,minute:N,second:N,millisecond:N}}return{editable:v,tabindex:i,headerClass:a,getLocale:u,getCurrentDate:m}}const Pt=864e5,Aa=36e5,gt=6e4,Et="YYYY-MM-DDTHH:mm:ss.SSSZ",ja=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Pa=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,it={};function Ea(e,n){const v="("+n.days.join("|")+")",i=e+v;if(it[i]!==void 0)return it[i];const a="("+n.daysShort.join("|")+")",u="("+n.months.join("|")+")",m="("+n.monthsShort.join("|")+")",o={};let x=0;const N=e.replace(Pa,b=>{switch(x++,b){case"YY":return o.YY=x,"(-?\\d{1,2})";case"YYYY":return o.YYYY=x,"(-?\\d{1,4})";case"M":return o.M=x,"(\\d{1,2})";case"Mo":return o.M=x++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return o.M=x,"(\\d{2})";case"MMM":return o.MMM=x,m;case"MMMM":return o.MMMM=x,u;case"D":return o.D=x,"(\\d{1,2})";case"Do":return o.D=x++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return o.D=x,"(\\d{2})";case"H":return o.H=x,"(\\d{1,2})";case"HH":return o.H=x,"(\\d{2})";case"h":return o.h=x,"(\\d{1,2})";case"hh":return o.h=x,"(\\d{2})";case"m":return o.m=x,"(\\d{1,2})";case"mm":return o.m=x,"(\\d{2})";case"s":return o.s=x,"(\\d{1,2})";case"ss":return o.s=x,"(\\d{2})";case"S":return o.S=x,"(\\d{1})";case"SS":return o.S=x,"(\\d{2})";case"SSS":return o.S=x,"(\\d{3})";case"A":return o.A=x,"(AM|PM)";case"a":return o.a=x,"(am|pm)";case"aa":return o.aa=x,"(a\\.m\\.|p\\.m\\.)";case"ddd":return a;case"dddd":return v;case"Q":case"d":case"E":return"(\\d{1})";case"do":return x++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return x++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return x++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return o.Z=x,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return o.ZZ=x,"(Z|[+-]\\d{2}\\d{2})";case"X":return o.X=x,"(-?\\d+)";case"x":return o.x=x,"(-?\\d{4,})";default:return x--,b[0]==="["&&(b=b.substring(1,b.length-1)),b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),h={map:o,regex:new RegExp("^"+N)};return it[i]=h,h}function Bt(e,n){return e!==void 0?e:n!==void 0?n.date:ra.date}function zt(e,n=""){const v=e>0?"-":"+",i=Math.abs(e),a=Math.floor(i/60),u=i%60;return v+Q(a)+n+Q(u)}function Ba(e,n,v,i,a){const u={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(a!==void 0&&Object.assign(u,a),e==null||e===""||typeof e!="string")return u;n===void 0&&(n=Et);const m=Bt(v,Ht.props),o=m.months,x=m.monthsShort,{regex:N,map:h}=Ea(n,m),b=e.match(N);if(b===null)return u;let E="";if(h.X!==void 0||h.x!==void 0){const s=parseInt(b[h.X!==void 0?h.X:h.x],10);if(isNaN(s)===!0||s<0)return u;const c=new Date(s*(h.X!==void 0?1e3:1));u.year=c.getFullYear(),u.month=c.getMonth()+1,u.day=c.getDate(),u.hour=c.getHours(),u.minute=c.getMinutes(),u.second=c.getSeconds(),u.millisecond=c.getMilliseconds()}else{if(h.YYYY!==void 0)u.year=parseInt(b[h.YYYY],10);else if(h.YY!==void 0){const s=parseInt(b[h.YY],10);u.year=s<0?s:2e3+s}if(h.M!==void 0){if(u.month=parseInt(b[h.M],10),u.month<1||u.month>12)return u}else h.MMM!==void 0?u.month=x.indexOf(b[h.MMM])+1:h.MMMM!==void 0&&(u.month=o.indexOf(b[h.MMMM])+1);if(h.D!==void 0){if(u.day=parseInt(b[h.D],10),u.year===null||u.month===null||u.day<1)return u;const s=i!=="persian"?new Date(u.year,u.month,0).getDate():tt(u.year,u.month);if(u.day>s)return u}h.H!==void 0?u.hour=parseInt(b[h.H],10)%24:h.h!==void 0&&(u.hour=parseInt(b[h.h],10)%12,(h.A&&b[h.A]==="PM"||h.a&&b[h.a]==="pm"||h.aa&&b[h.aa]==="p.m.")&&(u.hour+=12),u.hour=u.hour%24),h.m!==void 0&&(u.minute=parseInt(b[h.m],10)%60),h.s!==void 0&&(u.second=parseInt(b[h.s],10)%60),h.S!==void 0&&(u.millisecond=parseInt(b[h.S],10)*10**(3-b[h.S].length)),(h.Z!==void 0||h.ZZ!==void 0)&&(E=h.Z!==void 0?b[h.Z].replace(":",""):b[h.ZZ],u.timezoneOffset=(E[0]==="+"?-1:1)*(60*E.slice(1,3)+1*E.slice(3,5)))}return u.dateHash=Q(u.year,4)+"/"+Q(u.month)+"/"+Q(u.day),u.timeHash=Q(u.hour)+":"+Q(u.minute)+":"+Q(u.second)+E,u}function dt(e){const n=new Date(e.getFullYear(),e.getMonth(),e.getDate());n.setDate(n.getDate()-(n.getDay()+6)%7+3);const v=new Date(n.getFullYear(),0,4);v.setDate(v.getDate()-(v.getDay()+6)%7+3);const i=n.getTimezoneOffset()-v.getTimezoneOffset();n.setHours(n.getHours()-i);const a=(n-v)/(Pt*7);return 1+Math.floor(a)}function De(e,n,v){const i=new Date(e),a=`set${v===!0?"UTC":""}`;switch(n){case"year":case"years":i[`${a}Month`](0);case"month":case"months":i[`${a}Date`](1);case"day":case"days":case"date":i[`${a}Hours`](0);case"hour":case"hours":i[`${a}Minutes`](0);case"minute":case"minutes":i[`${a}Seconds`](0);case"second":case"seconds":i[`${a}Milliseconds`](0)}return i}function Ke(e,n,v){return(e.getTime()-e.getTimezoneOffset()*gt-(n.getTime()-n.getTimezoneOffset()*gt))/v}function Qt(e,n,v="days"){const i=new Date(e),a=new Date(n);switch(v){case"years":case"year":return i.getFullYear()-a.getFullYear();case"months":case"month":return(i.getFullYear()-a.getFullYear())*12+i.getMonth()-a.getMonth();case"days":case"day":case"date":return Ke(De(i,"day"),De(a,"day"),Pt);case"hours":case"hour":return Ke(De(i,"hour"),De(a,"hour"),Aa);case"minutes":case"minute":return Ke(De(i,"minute"),De(a,"minute"),gt);case"seconds":case"second":return Ke(De(i,"second"),De(a,"second"),1e3)}}function ct(e){return Qt(e,De(e,"year"),"days")+1}function Ae(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Ut={YY(e,n,v){const i=this.YYYY(e,n,v)%100;return i>=0?Q(i):"-"+Q(Math.abs(i))},YYYY(e,n,v){return v??e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return Ae(e.getMonth()+1)},MM(e){return Q(e.getMonth()+1)},MMM(e,n){return n.monthsShort[e.getMonth()]},MMMM(e,n){return n.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Ae(this.Q(e))},D(e){return e.getDate()},Do(e){return Ae(e.getDate())},DD(e){return Q(e.getDate())},DDD(e){return ct(e)},DDDo(e){return Ae(ct(e))},DDDD(e){return Q(ct(e),3)},d(e){return e.getDay()},do(e){return Ae(e.getDay())},dd(e,n){return n.days[e.getDay()].slice(0,2)},ddd(e,n){return n.daysShort[e.getDay()]},dddd(e,n){return n.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return dt(e)},wo(e){return Ae(dt(e))},ww(e){return Q(dt(e))},H(e){return e.getHours()},HH(e){return Q(e.getHours())},h(e){const n=e.getHours();return n===0?12:n>12?n%12:n},hh(e){return Q(this.h(e))},m(e){return e.getMinutes()},mm(e){return Q(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return Q(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return Q(Math.floor(e.getMilliseconds()/10))},SSS(e){return Q(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,n,v,i){const a=i??e.getTimezoneOffset();return zt(a,":")},ZZ(e,n,v,i){const a=i??e.getTimezoneOffset();return zt(a)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Qa(e,n,v,i,a){if(e!==0&&!e||e===1/0||e===-1/0)return;const u=new Date(e);if(isNaN(u))return;n===void 0&&(n=Et);const m=Bt(v,Ht.props);return n.replace(ja,(o,x)=>o in Ut?Ut[o](u,m,i,a):x===void 0?o:x.split("\\]").join("]"))}const pe=20,Ra=["Calendar","Years","Months"],Nt=e=>Ra.includes(e),vt=e=>/^-?[\d]+\/[0-1]\d$/.test(e),je=" — ";function ke(e){return e.year+"/"+Q(e.month)}const Za=Ie({name:"QDate",props:{...Yt,...ba,...yt,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...Yt.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:vt},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:vt},navigationMaxYearMonth:{type:String,validator:vt},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Nt}},emits:[...Oa,"rangeStart","rangeEnd","navigation"],setup(e,{slots:n,emit:v}){const{proxy:i}=Je(),{$q:a}=i,u=bt(e,a),{getCache:m}=Ya(),{tabindex:o,headerClass:x,getLocale:N,getCurrentDate:h}=La(e,a);let b;const E=_a(e),s=pa(E),c=p(null),k=p(Mt()),$=p(N()),W=Y(()=>Mt()),be=Y(()=>N()),K=Y(()=>h()),S=p(Vt(k.value,$.value)),X=p(e.defaultView),Ve=Y(()=>a.lang.rtl===!0?"right":"left"),me=p(Ve.value),ee=p(Ve.value),ae=S.value.year,te=p(ae-ae%pe-(ae<0?pe:0)),R=p(null),se=Y(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(u.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),le=Y(()=>e.color||"primary"),fe=Y(()=>e.textColor||"white"),ge=Y(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),$e=Y(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),U=Y(()=>$e.value.filter(t=>typeof t=="string").map(t=>nt(t,k.value,$.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),oe=Y(()=>{const t=l=>nt(l,k.value,$.value);return $e.value.filter(l=>sa(l)===!0&&l.from!==void 0&&l.to!==void 0).map(l=>({from:t(l.from),to:t(l.to)})).filter(l=>l.from.dateHash!==null&&l.to.dateHash!==null&&l.from.dateHash<l.to.dateHash)}),_e=Y(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const l=qt(t.year,t.month,t.day);return new Date(l.gy,l.gm-1,l.gd)}),qe=Y(()=>e.calendar==="persian"?we:(t,l,r)=>Qa(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),l===void 0?k.value:l,r===void 0?$.value:r,t.year,t.timezoneOffset)),he=Y(()=>U.value.length+oe.value.reduce((t,l)=>t+1+Qt(_e.value(l.to),_e.value(l.from)),0)),Ye=Y(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(R.value!==null){const r=R.value.init,_=_e.value(r);return $.value.daysShort[_.getDay()]+", "+$.value.monthsShort[r.month-1]+" "+r.day+je+"?"}if(he.value===0)return je;if(he.value>1)return`${he.value} ${$.value.pluralDay}`;const t=U.value[0],l=_e.value(t);return isNaN(l.valueOf())===!0?je:$.value.headerTitle!==void 0?$.value.headerTitle(l,t):$.value.daysShort[l.getDay()]+", "+$.value.monthsShort[t.month-1]+" "+t.day}),Ne=Y(()=>U.value.concat(oe.value.map(l=>l.from)).sort((l,r)=>l.year-r.year||l.month-r.month)[0]),Be=Y(()=>U.value.concat(oe.value.map(l=>l.to)).sort((l,r)=>r.year-l.year||r.month-l.month)[0]),y=Y(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(he.value===0)return je;if(he.value>1){const t=Ne.value,l=Be.value,r=$.value.monthsShort;return r[t.month-1]+(t.year!==l.year?" "+t.year+je+r[l.month-1]+" ":t.month!==l.month?je+r[l.month-1]:"")+" "+l.year}return U.value[0].year}),M=Y(()=>{const t=[a.iconSet.datetime.arrowLeft,a.iconSet.datetime.arrowRight];return a.lang.rtl===!0?t.reverse():t}),F=Y(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):$.value.firstDayOfWeek),ye=Y(()=>{const t=$.value.daysShort,l=F.value;return l>0?t.slice(l,7).concat(t.slice(0,l)):t}),f=Y(()=>{const t=S.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():tt(t.year,t.month)}),q=Y(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),I=Y(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),j=Y(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),He=Y(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return I.value!==null&&I.value.year>=S.value.year&&(t.year.prev=!1,I.value.year===S.value.year&&I.value.month>=S.value.month&&(t.month.prev=!1)),j.value!==null&&j.value.year<=S.value.year&&(t.year.next=!1,j.value.year===S.value.year&&j.value.month<=S.value.month&&(t.month.next=!1)),t}),Fe=Y(()=>{const t={};return U.value.forEach(l=>{const r=ke(l);t[r]===void 0&&(t[r]=[]),t[r].push(l.day)}),t}),pt=Y(()=>{const t={};return oe.value.forEach(l=>{const r=ke(l.from),_=ke(l.to);if(t[r]===void 0&&(t[r]=[]),t[r].push({from:l.from.day,to:r===_?l.to.day:void 0,range:l}),r<_){let D;const{year:T,month:C}=l.from,H=C<12?{year:T,month:C+1}:{year:T+1,month:1};for(;(D=ke(H))<=_;)t[D]===void 0&&(t[D]=[]),t[D].push({from:void 0,to:D===_?l.to.day:void 0,range:l}),H.month++,H.month>12&&(H.year++,H.month=1)}}),t}),Qe=Y(()=>{if(R.value===null)return;const{init:t,initHash:l,final:r,finalHash:_}=R.value,[D,T]=l<=_?[t,r]:[r,t],C=ke(D),H=ke(T);if(C!==de.value&&H!==de.value)return;const Z={};return C===de.value?(Z.from=D.day,Z.includeFrom=!0):Z.from=1,H===de.value?(Z.to=T.day,Z.includeTo=!0):Z.to=f.value,Z}),de=Y(()=>ke(S.value)),Rt=Y(()=>{const t={};if(e.options===void 0){for(let r=1;r<=f.value;r++)t[r]=!0;return t}const l=typeof e.options=="function"?e.options:r=>e.options.includes(r);for(let r=1;r<=f.value;r++){const _=de.value+"/"+Q(r);t[r]=l(_)}return t}),Zt=Y(()=>{const t={};if(e.events===void 0)for(let l=1;l<=f.value;l++)t[l]=!1;else{const l=typeof e.events=="function"?e.events:r=>e.events.includes(r);for(let r=1;r<=f.value;r++){const _=de.value+"/"+Q(r);t[r]=l(_)===!0&&q.value(_)}}return t}),Gt=Y(()=>{let t,l;const{year:r,month:_}=S.value;if(e.calendar!=="persian")t=new Date(r,_-1,1),l=new Date(r,_-1,0).getDate();else{const D=qt(r,_,1);t=new Date(D.gy,D.gm-1,D.gd);let T=_-1,C=r;T===0&&(T=12,C--),l=tt(C,T)}return{days:t.getDay()-F.value-1,endDay:l}}),xt=Y(()=>{const t=[],{days:l,endDay:r}=Gt.value,_=l<0?l+7:l;if(_<6)for(let C=r-_;C<=r;C++)t.push({i:C,fill:!0});const D=t.length;for(let C=1;C<=f.value;C++){const H={i:C,event:Zt.value[C],classes:[]};Rt.value[C]===!0&&(H.in=!0,H.flat=!0),t.push(H)}if(Fe.value[de.value]!==void 0&&Fe.value[de.value].forEach(C=>{const H=D+C-1;Object.assign(t[H],{selected:!0,unelevated:!0,flat:!1,color:le.value,textColor:fe.value})}),pt.value[de.value]!==void 0&&pt.value[de.value].forEach(C=>{if(C.from!==void 0){const H=D+C.from-1,Z=D+(C.to||f.value)-1;for(let Re=H;Re<=Z;Re++)Object.assign(t[Re],{range:C.range,unelevated:!0,color:le.value,textColor:fe.value});Object.assign(t[H],{rangeFrom:!0,flat:!1}),C.to!==void 0&&Object.assign(t[Z],{rangeTo:!0,flat:!1})}else if(C.to!==void 0){const H=D+C.to-1;for(let Z=D;Z<=H;Z++)Object.assign(t[Z],{range:C.range,unelevated:!0,color:le.value,textColor:fe.value});Object.assign(t[H],{flat:!1,rangeTo:!0})}else{const H=D+f.value-1;for(let Z=D;Z<=H;Z++)Object.assign(t[Z],{range:C.range,unelevated:!0,color:le.value,textColor:fe.value})}}),Qe.value!==void 0){const C=D+Qe.value.from-1,H=D+Qe.value.to-1;for(let Z=C;Z<=H;Z++)t[Z].color=le.value,t[Z].editRange=!0;Qe.value.includeFrom===!0&&(t[C].editRangeFrom=!0),Qe.value.includeTo===!0&&(t[H].editRangeTo=!0)}S.value.year===K.value.year&&S.value.month===K.value.month&&(t[D+K.value.day-1].today=!0);const T=t.length%7;if(T>0){const C=7-T;for(let H=1;H<=C;H++)t.push({i:H,fill:!0})}return t.forEach(C=>{let H="q-date__calendar-item ";C.fill===!0?H+="q-date__calendar-item--fill":(H+=`q-date__calendar-item--${C.in===!0?"in":"out"}`,C.range!==void 0&&(H+=` q-date__range${C.rangeTo===!0?"-to":C.rangeFrom===!0?"-from":""}`),C.editRange===!0&&(H+=` q-date__edit-range${C.editRangeFrom===!0?"-from":""}${C.editRangeTo===!0?"-to":""}`),(C.range!==void 0||C.editRange===!0)&&(H+=` text-${C.color}`)),C.classes=H}),t}),Jt=Y(()=>e.disable===!0?{"aria-disabled":"true"}:{});re(()=>e.modelValue,t=>{if(b===JSON.stringify(t))b=0;else{const l=Vt(k.value,$.value);Te(l.year,l.month,l)}}),re(X,()=>{c.value!==null&&i.$el.contains(document.activeElement)===!0&&c.value.focus()}),re(()=>S.value.year+"|"+S.value.month,()=>{v("navigation",{year:S.value.year,month:S.value.month})}),re(W,t=>{It(t,$.value,"mask"),k.value=t}),re(be,t=>{It(k.value,t,"locale"),$.value=t});function at(t){b=JSON.stringify(t)}function Dt(){const{year:t,month:l,day:r}=K.value,_={...S.value,year:t,month:l,day:r},D=Fe.value[ke(_)];(D===void 0||D.includes(_.day)===!1)&&ut(_),lt(_.year,_.month)}function Wt(t){Nt(t)===!0&&(X.value=t)}function Xt(t,l){["month","year"].includes(t)&&(t==="month"?kt:ot)(l===!0?-1:1)}function lt(t,l){X.value="Calendar",Te(t,l)}function Kt(t,l){if(e.range===!1||!t){R.value=null;return}const r=Object.assign({...S.value},t),_=l!==void 0?Object.assign({...S.value},l):r;R.value={init:r,initHash:we(r),final:_,finalHash:we(_)},lt(r.year,r.month)}function Mt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function nt(t,l,r){return Ba(t,l,r,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Vt(t,l){const r=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(r.length===0)return wt();const _=r[r.length-1],D=nt(_.from!==void 0?_.from:_,t,l);return D.dateHash===null?wt():D}function wt(){let t,l;if(e.defaultYearMonth!==void 0){const r=e.defaultYearMonth.split("/");t=parseInt(r[0],10),l=parseInt(r[1],10)}else{const r=K.value!==void 0?K.value:h();t=r.year,l=r.month}return{year:t,month:l,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+Q(l)+"/01"}}function kt(t){let l=S.value.year,r=Number(S.value.month)+t;r===13?(r=1,l++):r===0&&(r=12,l--),Te(l,r),ge.value===!0&&Xe("month")}function ot(t){const l=Number(S.value.year)+t;Te(l,S.value.month),ge.value===!0&&Xe("year")}function ea(t){Te(t,S.value.month),X.value=e.defaultView==="Years"?"Months":"Calendar",ge.value===!0&&Xe("year")}function ta(t){Te(S.value.year,t),X.value="Calendar",ge.value===!0&&Xe("month")}function aa(t,l){(Fe.value[l]?.includes(t.day)===!0?rt:ut)(t)}function ze(t){return{year:t.year,month:t.month,day:t.day}}function Te(t,l,r){if(I.value!==null&&t<=I.value.year&&((l<I.value.month||t<I.value.year)&&(l=I.value.month),t=I.value.year),j.value!==null&&t>=j.value.year&&((l>j.value.month||t>j.value.year)&&(l=j.value.month),t=j.value.year),r!==void 0){const{hour:D,minute:T,second:C,millisecond:H,timezoneOffset:Z,timeHash:Re}=r;Object.assign(S.value,{hour:D,minute:T,second:C,millisecond:H,timezoneOffset:Z,timeHash:Re})}const _=t+"/"+Q(l)+"/01";_!==S.value.dateHash&&(me.value=S.value.dateHash<_==(a.lang.rtl!==!0)?"left":"right",t!==S.value.year&&(ee.value=me.value),mt(()=>{te.value=t-t%pe-(t<0?pe:0),Object.assign(S.value,{year:t,month:l,day:1,dateHash:_})}))}function St(t,l,r){const _=t!==null&&t.length===1&&e.multiple===!1?t[0]:t,{reason:D,details:T}=Ct(l,r);at(_),v("update:modelValue",_,D,T)}function Xe(t){const l=U.value[0]!==void 0&&U.value[0].dateHash!==null?{...U.value[0]}:{...S.value};mt(()=>{l.year=S.value.year,l.month=S.value.month;const r=e.calendar!=="persian"?new Date(l.year,l.month,0).getDate():tt(l.year,l.month);l.day=Math.min(Math.max(1,l.day),r);const _=Oe(l),{details:D}=Ct("",l);at(_),v("update:modelValue",_,t,D)})}function Ct(t,l){return l.from!==void 0?{reason:`${t}-range`,details:{...ze(l.target),from:ze(l.from),to:ze(l.to)}}:{reason:`${t}-day`,details:ze(l)}}function Oe(t,l,r){return t.from!==void 0?{from:qe.value(t.from,l,r),to:qe.value(t.to,l,r)}:qe.value(t,l,r)}function ut(t){let l;if(e.multiple===!0)if(t.from!==void 0){const r=we(t.from),_=we(t.to),D=U.value.filter(C=>C.dateHash<r||C.dateHash>_),T=oe.value.filter(({from:C,to:H})=>H.dateHash<r||C.dateHash>_);l=D.concat(T).concat(t).map(C=>Oe(C))}else{const r=$e.value.slice();r.push(Oe(t)),l=r}else l=Oe(t);St(l,"add",t)}function rt(t){if(e.noUnset===!0)return;let l=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const r=Oe(t);t.from!==void 0?l=e.modelValue.filter(_=>_.from!==void 0?_.from!==r.from&&_.to!==r.to:!0):l=e.modelValue.filter(_=>_!==r),l.length===0&&(l=null)}St(l,"remove",t)}function It(t,l,r){const _=U.value.concat(oe.value).map(T=>Oe(T,t,l)).filter(T=>T.from!==void 0?T.from.dateHash!==null&&T.to.dateHash!==null:T.dateHash!==null),D=(e.multiple===!0?_:_[0])||null;at(D),v("update:modelValue",D,r)}function la(){if(e.minimal!==!0)return w("div",{class:"q-date__header "+x.value},[w("div",{class:"relative-position"},[w(Pe,{name:"q-transition--fade"},()=>w("div",{key:"h-yr-"+y.value,class:"q-date__header-subtitle q-date__header-link "+(X.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:o.value,...m("vY",{onClick(){X.value="Years"},onKeyup(t){t.keyCode===13&&(X.value="Years")}})},[y.value]))]),w("div",{class:"q-date__header-title relative-position flex no-wrap"},[w("div",{class:"relative-position col"},[w(Pe,{name:"q-transition--fade"},()=>w("div",{key:"h-sub"+Ye.value,class:"q-date__header-title-label q-date__header-link "+(X.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:o.value,...m("vC",{onClick(){X.value="Calendar"},onKeyup(t){t.keyCode===13&&(X.value="Calendar")}})},[Ye.value]))]),e.todayBtn===!0?w(J,{class:"q-date__header-today self-start",icon:a.iconSet.datetime.today,"aria-label":a.lang.date.today,flat:!0,size:"sm",round:!0,tabindex:o.value,onClick:Dt}):null])])}function st({label:t,type:l,key:r,dir:_,goTo:D,boundaries:T,cls:C}){return[w("div",{class:"row items-center q-date__arrow"},[w(J,{round:!0,dense:!0,size:"sm",flat:!0,icon:M.value[0],"aria-label":l==="Years"?a.lang.date.prevYear:a.lang.date.prevMonth,tabindex:o.value,disable:T.prev===!1,...m("go-#"+l,{onClick(){D(-1)}})})]),w("div",{class:"relative-position overflow-hidden flex flex-center"+C},[w(Pe,{name:"q-transition--jump-"+_},()=>w("div",{key:r},[w(J,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:o.value,...m("view#"+l,{onClick:()=>{X.value=l}})})]))]),w("div",{class:"row items-center q-date__arrow"},[w(J,{round:!0,dense:!0,size:"sm",flat:!0,icon:M.value[1],"aria-label":l==="Years"?a.lang.date.nextYear:a.lang.date.nextMonth,tabindex:o.value,disable:T.next===!1,...m("go+#"+l,{onClick(){D(1)}})})])]}const na={Calendar:()=>[w("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[w("div",{class:"q-date__navigation row items-center no-wrap"},st({label:$.value.months[S.value.month-1],type:"Months",key:S.value.month,dir:me.value,goTo:kt,boundaries:He.value.month,cls:" col"}).concat(st({label:S.value.year,type:"Years",key:S.value.year,dir:ee.value,goTo:ot,boundaries:He.value.year,cls:""}))),w("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},ye.value.map(t=>w("div",{class:"q-date__calendar-item"},[w("div",t)]))),w("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[w(Pe,{name:"q-transition--slide-"+me.value},()=>w("div",{key:de.value,class:"q-date__calendar-days fit"},xt.value.map(t=>w("div",{class:t.classes},[t.in===!0?w(J,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:o.value,...m("day#"+t.i,{onClick:()=>{oa(t.i)},onMouseover:()=>{ua(t.i)}})},t.event!==!1?()=>w("div",{class:"q-date__event bg-"+t.event}):null):w("div",""+t.i)]))))])])],Months(){const t=S.value.year===K.value.year,l=_=>I.value!==null&&S.value.year===I.value.year&&I.value.month>_||j.value!==null&&S.value.year===j.value.year&&j.value.month<_,r=$.value.monthsShort.map((_,D)=>{const T=S.value.month===D+1;return w("div",{class:"q-date__months-item flex flex-center"},[w(J,{class:t===!0&&K.value.month===D+1?"q-date__today":null,flat:T!==!0,label:_,unelevated:T,color:T===!0?le.value:null,textColor:T===!0?fe.value:null,tabindex:o.value,disable:l(D+1),...m("month#"+D,{onClick:()=>{ta(D+1)}})})])});return e.yearsInMonthView===!0&&r.unshift(w("div",{class:"row no-wrap full-width"},[st({label:S.value.year,type:"Years",key:S.value.year,dir:ee.value,goTo:ot,boundaries:He.value.year,cls:" col"})])),w("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},r)},Years(){const t=te.value,l=t+pe,r=[],_=D=>I.value!==null&&I.value.year>D||j.value!==null&&j.value.year<D;for(let D=t;D<=l;D++){const T=S.value.year===D;r.push(w("div",{class:"q-date__years-item flex flex-center"},[w(J,{key:"yr"+D,class:K.value.year===D?"q-date__today":null,flat:!T,label:D,dense:!0,unelevated:T,color:T===!0?le.value:null,textColor:T===!0?fe.value:null,tabindex:o.value,disable:_(D),...m("yr#"+D,{onClick:()=>{ea(D)}})})]))}return w("div",{class:"q-date__view q-date__years flex flex-center"},[w("div",{class:"col-auto"},[w(J,{round:!0,dense:!0,flat:!0,icon:M.value[0],"aria-label":a.lang.date.prevRangeYears(pe),tabindex:o.value,disable:_(t),...m("y-",{onClick:()=>{te.value-=pe}})})]),w("div",{class:"q-date__years-content col self-stretch row items-center"},r),w("div",{class:"col-auto"},[w(J,{round:!0,dense:!0,flat:!0,icon:M.value[1],"aria-label":a.lang.date.nextRangeYears(pe),tabindex:o.value,disable:_(l),...m("y+",{onClick:()=>{te.value+=pe}})})])])}};function oa(t){const l={...S.value,day:t};if(e.range===!1){aa(l,de.value);return}if(R.value===null){const r=xt.value.find(D=>D.fill!==!0&&D.i===t);if(e.noUnset!==!0&&r.range!==void 0){rt({target:l,from:r.range.from,to:r.range.to});return}if(r.selected===!0){rt(l);return}const _=we(l);R.value={init:l,initHash:_,final:l,finalHash:_},v("rangeStart",ze(l))}else{const r=R.value.initHash,_=we(l),D=r<=_?{from:R.value.init,to:l}:{from:l,to:R.value.init};R.value=null,ut(r===_?l:{target:l,...D}),v("rangeEnd",{from:ze(D.from),to:ze(D.to)})}}function ua(t){if(R.value!==null){const l={...S.value,day:t};Object.assign(R.value,{final:l,finalHash:we(l)})}}return Object.assign(i,{setToday:Dt,setView:Wt,offsetCalendar:Xt,setCalendarTo:lt,setEditingRange:Kt}),()=>{const t=[w("div",{class:"q-date__content col relative-position"},[w(Pe,{name:"q-transition--fade"},na[X.value])])],l=Ze(n.default);return l!==void 0&&t.push(w("div",{class:"q-date__actions"},l)),e.name!==void 0&&e.disable!==!0&&s(t,"push"),w("div",{class:se.value,...Jt.value},[la(),w("div",{ref:c,class:"q-date__main col column",tabindex:-1},t)])}}}),Ga=Ie({name:"QPopupProxy",props:{...Ma,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:n,emit:v,attrs:i}){const{proxy:a}=Je(),{$q:u}=a,m=p(!1),o=p(null),x=Y(()=>parseInt(e.breakpoint,10)),{canShow:N}=Va({showing:m});function h(){return u.screen.width<x.value||u.screen.height<x.value?"dialog":"menu"}const b=p(h()),E=Y(()=>b.value==="menu"?{maxHeight:"99vh"}:{});re(()=>h(),k=>{m.value!==!0&&(b.value=k)});function s(k){m.value=!0,v("show",k)}function c(k){m.value=!1,b.value=h(),v("hide",k)}return Object.assign(a,{show(k){N(k)===!0&&o.value.show(k)},hide(k){o.value.hide(k)},toggle(k){o.value.toggle(k)}}),Ft(a,"currentComponent",()=>({type:b.value,ref:o.value})),()=>{const k={ref:o,...E.value,...i,onShow:s,onHide:c};let $;return b.value==="dialog"?$=wa:($=Ot,Object.assign(k,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),w($,k,n.default)}}}),Ja='<g transform="translate(-20,-20)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="90 50 50" to="0 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g><g transform="translate(20,20) rotate(15 50 50)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="90 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g>',Wa=Ie({name:"QSpinnerGears",props:ia,setup(e){const{cSize:n,classes:v}=da(e);return()=>w("svg",{class:v.value,width:n.value,height:n.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:Ja})}}),Xa=Ie({name:"QInnerLoading",props:{...yt,...ka,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:n}){const v=Je(),i=bt(e,v.proxy.$q),{transitionProps:a,transitionStyle:u}=Sa(e),m=Y(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(i.value===!0?" q-inner-loading--dark":"")),o=Y(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function x(){const h=[w(ca,{size:e.size,color:e.color})];return e.label!==void 0&&h.push(w("div",{class:o.value,style:e.labelStyle},[e.label])),h}function N(){return e.showing===!0?w("div",{class:m.value,style:u.value},n.default!==void 0?n.default():x()):null}return()=>w(Pe,a.value,N)}}),Ka=["top","middle","bottom"],Ue=Ie({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Ka.includes(e)}},setup(e,{slots:n}){const v=Y(()=>e.align!==void 0?{verticalAlign:e.align}:null),i=Y(()=>{const a=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(a!==void 0?` text-${a}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>w("div",{class:i.value,style:v.value,role:"status","aria-label":e.label},va(n.default,e.label!==void 0?[e.label]:[]))}}),el=Ie({name:"QBanner",props:{...yt,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:n}){const{proxy:{$q:v}}=Je(),i=bt(e,v),a=Y(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(i.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),u=Y(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const m=[w("div",{class:"q-banner__avatar col-auto row items-center self-start"},Ze(n.avatar)),w("div",{class:"q-banner__content col text-body2"},Ze(n.default))],o=Ze(n.action);return o!==void 0&&m.push(w("div",{class:u.value},o)),w("div",{class:a.value+(e.inlineActions===!1&&o!==void 0?" q-banner--top-padding":""),role:"alert"},m)}}}),tl={class:"col-md-3",style:{padding:"10px"}},al={class:"metric-value"},ll={class:"col-md-3",style:{padding:"10px"}},nl={class:"metric-value"},ol={class:"col-md-3",style:{padding:"10px"}},ul={class:"metric-value"},rl={class:"col-md-3",style:{padding:"10px"}},sl=We({__name:"HealthyMetrics",props:{weight:{},height:{},body_fat:{},activityLevel:{}},emits:["update:weight","update:height","update:body_fat","update:activityLevel"],setup(e,{emit:n}){const v=[{value:0,label:"เลือกกิจกรรม",short:"",description:""},{value:1.2,label:"Sedentary",short:"นั่งทำงาน",description:"นั่งทำงานตลอดวัน ไม่ออกกำลังกาย"},{value:1.375,label:"Lightly Active",short:"ออกกำลังกายเบา",description:"ออกกำลังกายเบา 1–3 วัน/สัปดาห์"},{value:1.55,label:"Moderately Active",short:"ออกกำลังกายปานกลาง",description:"ออกกำลังกายปานกลาง 3–5 วัน/สัปดาห์"},{value:1.725,label:"Very Active",short:"ออกกำลังกายหนัก",description:"ออกกำลังกายหนัก 6–7 วัน/สัปดาห์"},{value:1.9,label:"Extra Active",short:"ออกกำลังกายหนัก+",description:"ออกกำลังกายหนัก + งานหนัก/ฝึกซ้อมซ้ำหลายครั้ง"}],i=e,a=n,u=k=>{a("update:weight",k)},m=k=>{a("update:height",k)},o=k=>{a("update:body_fat",k)},x=k=>{a("update:activityLevel",k)},N=p(!1),h=p(!1),b=p(!1);function E(){N.value=!0}function s(){b.value=!0}function c(){h.value=!0}return(k,$)=>(z(),ce(ht,null,[V("div",tl,[d(Se,{class:"metric-card"},{default:g(()=>[N.value==!1?(z(),L(ne,{key:0,class:"metric-header",avatar:""},{default:g(()=>[d(ue,{color:"primary ",name:"monitor_weight"}),$[3]||($[3]=V("span",{class:"metric-title"},"น้ำหนัก",-1))]),_:1,__:[3]})):O("",!0),d(ne,{class:"metric-content"},{default:g(()=>[V("div",al,[B(A(i.weight||0)+" ",1),$[4]||($[4]=V("span",{class:"metric-unit"}," kg.",-1))]),N.value==!1?(z(),L(ue,{key:0,onClick:E,name:"edit_note",color:"primary",size:"sm",class:"edit-btn"})):O("",!0),N.value==!0?(z(),L(Me,{key:1,class:"edit-mode"},{default:g(()=>[d(P,{class:"inputmetric","bottom-slots":"","model-value":i.weight,"onUpdate:modelValue":u,label:"",maxlength:"12",dense:""},{before:g(()=>$[5]||($[5]=[])),after:g(()=>[d(J,{onClick:$[0]||($[0]=W=>N.value=!1),round:"",dense:"",flat:"",icon:"send"})]),_:1},8,["model-value"])]),_:1})):O("",!0)]),_:1})]),_:1})]),V("div",ll,[d(Se,{class:"metric-card"},{default:g(()=>[h.value==!1?(z(),L(ne,{key:0,class:"metric-header",avatar:""},{default:g(()=>[d(ue,{color:"primary",name:"straighten"}),$[6]||($[6]=V("span",{class:"metric-title"},"ส่วนสูง",-1))]),_:1,__:[6]})):O("",!0),d(ne,{class:"metric-content"},{default:g(()=>[V("div",nl,[B(A(i.height||0)+" ",1),$[7]||($[7]=V("span",{class:"metric-unit"}," cm.",-1))]),h.value==!1?(z(),L(ue,{key:0,onClick:c,name:"edit_note",color:"primary",size:"sm",class:"edit-btn"})):O("",!0),h.value?(z(),L(Me,{key:1,class:"edit-mode"},{default:g(()=>[d(P,{class:"inputmetric","bottom-slots":"","model-value":i.height,"onUpdate:modelValue":m,label:"",maxlength:"12",dense:""},{before:g(()=>$[8]||($[8]=[])),after:g(()=>[d(J,{onClick:$[1]||($[1]=W=>h.value=!1),round:"",dense:"",flat:"",icon:"send"})]),_:1},8,["model-value"])]),_:1})):O("",!0)]),_:1})]),_:1})]),V("div",ol,[d(Se,{class:"metric-card"},{default:g(()=>[b.value==!1?(z(),L(ne,{key:0,class:"metric-header"},{default:g(()=>[d(ue,{name:"percent",color:"primary",size:"24px"}),$[9]||($[9]=V("span",{class:"metric-title"},"ไขมัน",-1))]),_:1,__:[9]})):O("",!0),d(ne,{class:"metric-content"},{default:g(()=>[V("div",ul,[B(A(i.body_fat||0)+" ",1),$[10]||($[10]=V("span",{class:"metric-unit"}," %",-1))]),b.value==!1?(z(),L(ue,{key:0,onClick:s,name:"edit_note",color:"primary",size:"sm",class:"edit-btn"})):O("",!0),b.value?(z(),L(Me,{key:1,class:"edit-mode"},{default:g(()=>[d(P,{class:"inputmetric","bottom-slots":"","model-value":i.body_fat,"onUpdate:modelValue":o,label:"",maxlength:"100",dense:""},{before:g(()=>$[11]||($[11]=[])),after:g(()=>[d(J,{onClick:$[2]||($[2]=W=>b.value=!1),round:"",dense:"",flat:"",icon:"send"})]),_:1},8,["model-value"])]),_:1})):O("",!0)]),_:1})]),_:1})]),V("div",rl,[d(Me,{class:"metric-card"},{default:g(()=>[d(ne,{class:"metric-header"},{default:g(()=>[d(Ca,{"model-value":i.activityLevel,"onUpdate:modelValue":x,options:v,"option-label":"label","option-value":"value","emit-value":"","map-options":"",dense:"",outlined:"",label:i.activityLevel?v.find(W=>W.value===i.activityLevel)?.short:"เลือกระดับกิจกรรม"},{option:g(W=>[d(Se,ma({class:"inputmetric"},W.itemProps),{default:g(()=>[d(ne,null,{default:g(()=>[d(Me,null,{default:g(()=>[B(A(W.opt.label),1)]),_:2},1024),d(Me,{caption:""},{default:g(()=>[B(A(W.opt.description),1)]),_:2},1024),d(Me,{caption:"",class:"text-positive"},{default:g(()=>[B("ตัวคูณ: "+A(W.opt.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["model-value","label"])]),_:1})]),_:1})])],64))}}),il={class:"text-h5 text-primary"},dl={class:"text-h5 text-negative"},cl={class:"text-h5 text-negative"},vl={class:"row q-col-gutter-sm q-mt-sm"},ml={class:"col-4"},fl={class:"col-4"},gl={class:"col-4"},hl={class:"col-4"},yl={class:"col-4"},bl={class:"col-4"},_l={class:"col-4"},pl={class:"col-4"},xl={class:"col-4"},Dl=We({__name:"NutritionSummary",props:{weight:{},activityLevel:{},body_fat:{},toDayCalsData:{}},setup(e){const n=Y(()=>{const m=Number(a.body_fat)||0;return Number(a.weight)*(1-m/100)}),v=Y(()=>370+21.6*n.value),i=Y(()=>{const m=Number(a.activityLevel)||0;return(v.value*m).toFixed(2)}),a=e,u=Y(()=>{const m={calories:0,protein:0,fat:0,carbs:0,leucine:0,magnesium:0,zinc:0};return a.toDayCalsData.forEach(o=>{m.calories+=Number(o.calories)||0,m.protein+=Number(o.protein)||0,m.fat+=Number(o.fat)||0,m.carbs+=Number(o.carbs)||0,m.leucine+=Number(o.leucine)||0,m.magnesium+=Number(o.magnesium)||0,m.zinc+=Number(o.zinc)||0}),m});return(m,o)=>(z(),L(ne,null,{default:g(()=>[d(Me,null,{default:g(()=>[V("div",il,[o[0]||(o[0]=B(" พลังงานทั้งหมด ",-1)),V("span",dl,A(u.value.calories||"0"),1),o[1]||(o[1]=B(" cals จาก TDEE ",-1)),V("span",cl,A(i.value),1)])]),_:1}),V("div",vl,[V("div",ml,[V("div",fl,[d(Ue,{label:`Protein: ${u.value.protein.toFixed(2)} g : ${(u.value.protein*4).toFixed(2)} cals คิดเป็น ${(u.value.protein/(Number(a.weight)*2)*100).toFixed(1)}% `,color:"blue-3","text-color":"black",class:"q-mr-sm cursor-pointer"},{default:g(()=>[d(Le,null,{default:g(()=>[B(" โปรตีนแนะนำ 1.6–2.2 g/กก.น้ำหนักตัว สำหรับ "+A(Number(a.weight))+" กก. → "+A(Number(a.weight)*1.6)+"–"+A(Number(a.weight)*2)+" g/วัน ( โปรแกรมใช้ค่า 2 ) ",1)]),_:1})]),_:1},8,["label"])]),V("div",gl,[d(Ue,{label:`Fat: ${u.value.fat} g : ${(u.value.fat*9).toFixed(2)} cals คิดเป็น ${(u.value.fat/(Number(a.weight)*.8)*100).toFixed(1)}% `,color:"amber-4","text-color":"black",class:"q-mr-sm cursor-pointer"},{default:g(()=>[d(Le,null,{default:g(()=>[B(" ไขมันประมาณ 0.6–1 g/กก.น้ำหนักตัว "+A(Number(a.weight))+" กก. → "+A(Number(a.weight)*.8)+"–"+A(Number(a.weight)*1)+" g/วัน ( โปรแกรมใช้ค่า 0.8 ) ",1)]),_:1})]),_:1},8,["label"])]),V("div",hl,[d(Ue,{label:`Carb: ${u.value.carbs} g : ${(u.value.carbs*5).toFixed(2)} cals คิดเป็น ${(u.value.carbs/(Number(a.weight)*5)*100).toFixed(1)}% `,color:"green-3","text-color":"black",class:"q-mr-sm cursor-pointer"},{default:g(()=>[d(Le,null,{default:g(()=>[B(" คาร์บแนะนำ ~4–6 g/กก. สำหรับผู้สร้างกล้าม "+A(Number(a.weight))+" กก. → "+A(Number(a.weight)*4)+"–"+A(Number(a.weight)*6)+" g/วัน ( โปรแกรมใช้ค่า 5 ) ",1)]),_:1})]),_:1},8,["label"])])]),o[5]||(o[5]=V("div",{class:"col-4"},null,-1)),V("div",yl,[V("div",bl,[V("div",_l,[d(Ue,{label:`Leucine: ${u.value.leucine} g คิดเป็น ${(u.value.leucine/9*100).toFixed(1)}% `,color:"deep-purple-3","text-color":"white",class:"q-mr-sm cursor-pointer"},{default:g(()=>[d(Le,null,{default:g(()=>o[2]||(o[2]=[B(" ลูซีน 2.5–3 g ต่อมื้อโปรตีน วันละ 6–9 g เพื่อกระตุ้นการสร้างกล้าม (MPS) ( โปรแกรมใช้ค่า 9 ) ",-1)])),_:1,__:[2]})]),_:1},8,["label"])]),V("div",pl,[d(Ue,{label:`Zinc: ${u.value.zinc} g คิดเป็น ${(u.value.zinc*100/15).toFixed(1)}%`,color:"grey-4","text-color":"black",class:"cursor-pointer"},{default:g(()=>[d(Le,null,{default:g(()=>o[3]||(o[3]=[B(" ซิงค์แนะนำ 12–15 mg/วัน(ชาย) 9-12 mg/วัน(หญิง) สำคัญต่อระบบภูมิคุ้มกัน และฮอร์โมนเพศชาย ( โปรแกรมใช้ค่า 15 ) ",-1)])),_:1,__:[3]})]),_:1},8,["label"])]),V("div",xl,[d(Ue,{label:`Magnesium: ${u.value.magnesium} g คิดเป็น ${(u.value.magnesium*100/500).toFixed(1)}%`,color:"teal-3","text-color":"black",class:"q-mr-sm cursor-pointer"},{default:g(()=>[d(Le,null,{default:g(()=>o[4]||(o[4]=[B(" แมกนีเซียมแนะนำ ~450–500 mg/วัน(ชาย) 350–400 mg/วัน(หญิง) ช่วยการฟื้นฟู กล้ามเนื้อ และระบบประสาท ( โปรแกรมใช้ค่า 500 ) ",-1)])),_:1,__:[4]})]),_:1},8,["label"])])])]),o[6]||(o[6]=V("div",{class:"col-4"},null,-1))])]),_:1}))}}),Ml={class:"q-gutter-md"},Vl={class:"relative"},wl={class:"basic-info q-mb-lg"},kl={class:"row items-center q-mb-md"},Sl={class:"row q-col-gutter-md q-mb-md"},Cl={class:"col-6"},Il={class:"col-6"},$l={class:"macros q-mb-lg"},ql={class:"row items-center q-mb-md"},Yl={class:"row q-col-gutter-md q-mb-md"},zl={class:"col-6"},Ul={class:"col-6"},Nl={class:"row q-col-gutter-md q-mb-md"},Hl={class:"col-6"},Fl={class:"micros q-mb-lg"},Tl={class:"row items-center q-mb-md"},Ol={class:"row q-col-gutter-md"},Ll={class:"col-6"},Al={class:"col-6"},jl={class:"col-6"},Pl=We({__name:"useFoodDatabase",props:{date:{}},emits:["food-added"],setup(e,{emit:n}){const v="https://api-w4ic.onrender.com",i=new Date().toISOString().split("T")[0]?.replaceAll("-","/"),a=p({user_id:Number(localStorage.getItem("UserID")),date:i,foodname:"",calories:null,serving_size:null,carbs:null,protein:null,fat:null,leucine:null,magnesium:null,zinc:null}),u=e;re(()=>u.date,()=>{a.value.date=u.date});const m=p(!1),o=p(!1),x=p(""),N=p([]),h=p([]),b=p(!1),E=p([]),s=p([]),c=p([]),k=p(!1),$=p(" เลือกอาหารก่อน "),W=p(null),be=p(null),K=p(null),S=p(null),X=p(null),Ve=p(null),me=p(null),ee=p(0),ae=p(0),te=p(0),R=p(0),se=p(0),le=p(0);function fe(){o.value=!0,m.value=!0}function ge(){a.value.foodname="",a.value.calories=null,a.value.serving_size=null,a.value.carbs=null,a.value.protein=null,a.value.fat=null,a.value.leucine=null,a.value.magnesium=null,a.value.zinc=null,W.value=0,ee.value=0,ae.value=0,te.value=0,R.value=0,se.value=0,le.value=0}const $e=ft(f=>{x.value=f.toLocaleLowerCase(),m.value=!1},100);re(()=>a.value.foodname,f=>{m.value=!0,$e(f)});const U=Y(()=>x.value?a.value.foodname.length>2?h.value.filter(f=>f.name.includes(x.value)):h.value.filter(f=>f.name.includes("5555555")):h.value),oe=Y(()=>a.value.foodname?!N.value.some(f=>f.name.toLocaleLowerCase()===a.value.foodname.toLocaleLowerCase()):!1);function _e(f,q){ee.value=0,ae.value=0,te.value=0,R.value=0,se.value=0,le.value=0;const I=h.value.find(Fe=>Fe.id===q);$.value=I?.serving_size,ee.value=I?.nutrition.protein??0,ae.value=I?.nutrition.fat??0,te.value=I?.nutrition.carbs??0,R.value=I?.nutrition.leucine??0,se.value=I?.nutrition.magnesium??0,le.value=I?.nutrition.zinc??0;const j=Number(I?.serving_size.match(/\d+/)?.[0]);a.value.serving_size=j;const He=I?.nutrition.calories??null;a.value.protein=ee.value,a.value.fat=ae.value,a.value.carbs=te.value,a.value.leucine=R.value,a.value.magnesium=se.value,a.value.zinc=le.value,He!==null&&(W.value=Math.round(He/j*100)/100,be.value=Math.round(ee.value/j*100)/100,K.value=Math.round(ae.value/j*100)/100,S.value=Math.round(te.value/j*100)/100,X.value=Math.round(R.value/j*100)/100,Ve.value=Math.round(se.value/j*100)/100,me.value=Math.round(le.value/j*100)/100),a.value.foodname=f,o.value=!1}function qe(f){if(b.value=!0,!f.foodname.trim())return;const q=N.value.reduce((I,j)=>Math.max(I,j.id),0);N.value.push({id:q+1,name:f.foodname}),o.value=!1}const he=async()=>{try{m.value=!0;const f=await fetch("/data/clean_food_menu.json");f.ok?h.value=await f.json():alert("ไม่สามารถโหลดไฟล์ได้")}catch(f){console.error("เกิดข้อผิดพลาด:",f)}finally{m.value=!1}};function Ye(f){return f?c.value=s.value.filter(q=>q.date===f):c.value=s.value.filter(q=>q.date===i)}const Ne=()=>{const f=localStorage.getItem("customFoods"),q=localStorage.getItem("caloriesData");f&&(E.value=JSON.parse(f),h.value=[...h.value,...E.value]),q&&(s.value=JSON.parse(q),Ye(a.value.date))};Tt(async()=>{try{await he(),Ne(),Ye("")}catch(f){console.error("เกิดข้อผิดพลาดใน onMounted:",f)}}),re(()=>a.value.serving_size,f=>{W.value!==null&&typeof f=="number"&&f>0&&(a.value.calories=Math.round(W.value*f*100)/100),be.value!==null&&typeof f=="number"&&f>0&&(a.value.protein=ee.value=Math.round(be.value*f*100)/100),K.value!==null&&typeof f=="number"&&f>0&&(a.value.fat=ae.value=Math.round(K.value*f*100)/100),S.value!==null&&typeof f=="number"&&f>0&&(a.value.carbs=te.value=Math.round(S.value*f*100)/100),X.value!==null&&typeof f=="number"&&f>0&&(a.value.leucine=R.value=Math.round(X.value*f*100)/100),Ve.value!==null&&typeof f=="number"&&f>0&&(a.value.magnesium=se.value=Math.round(Ve.value*f*100)/100),me.value!==null&&typeof f=="number"&&f>0&&(a.value.zinc=le.value=Math.round(me.value*f*100)/100),f==0&&(a.value.calories=null)});const Be=ft(()=>{localStorage.setItem("customFoods",JSON.stringify(E.value)),localStorage.setItem("caloriesData",JSON.stringify(s.value)),Ne()},10);function y(f){if(!f.foodname)return;const I={id:Math.max(...h.value.map(j=>j.id),...E.value.map(j=>j.id),0)+1,name:f.foodname,serving_size:String(f.serving_size),nutrition:{calories:f.calories||0,protein:f.protein||0,fat:f.fat||0,carbs:f.carbs||0,fiber:0,cholesterol:0,leucine:f.leucine||0,sodium:0,potassium:0,magnesium:f.magnesium||0,zinc:f.zinc||0,vitaminD:0,vitaminB12:0,water:0}};E.value.push(I),Be(),o.value=!1}function M(f){y(f),ge(),b.value=!1}const F=n;async function ye(){if(k.value){if(s.value.push({...a.value})){console.log("ข้อมูลที่ submit",a.value);const f=JSON.stringify([a.value]);try{const q=await fetch(`${v}/api/InsertCals`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("authToken")||""},body:f});console.log("📡 Response:",q)}catch(q){console.error("error",q)}localStorage.setItem("caloriesData",JSON.stringify(s.value)),F("food-added",{...a.value})}ge()}}return re(a,f=>{k.value=f.foodname!==""},{deep:!0}),(f,q)=>(z(),L(et,null,{default:g(()=>[V("div",Ml,[V("div",Vl,[d(P,{ref:"foodInputRef",modelValue:a.value.foodname,"onUpdate:modelValue":q[0]||(q[0]=I=>a.value.foodname=I),label:"เลือกอาหาร",outlined:"",dense:"",onFocus:q[1]||(q[1]=I=>o.value=!0),onInput:fe,onBlur:q[2]||(q[2]=I=>o.value=!1),class:"q-mb-sm"},{append:g(()=>[a.value.foodname?(z(),L(ue,{key:0,name:"cancel",onClick:ge,class:"cursor-pointer"})):O("",!0)]),_:1},8,["modelValue"]),m.value?(z(),L(Ee,{key:0,class:"absolute z-10 full-width q-mt-xs shadow-2",style:{"max-height":"200px","overflow-y":"auto"}},{default:g(()=>[d(Se,null,{default:g(()=>[d(ne,{class:"text-italic text-grey"},{default:g(()=>q[13]||(q[13]=[B(" Loading... ",-1)])),_:1,__:[13]})]),_:1})]),_:1})):O("",!0),m.value==!1&&o.value&&(U.value.length>0||oe.value)?(z(),L(Ee,{key:1,class:"absolute z-10 full-width q-mt-xs shadow-2",style:{"max-height":"200px","overflow-y":"auto"}},{default:g(()=>[(z(!0),ce(ht,null,fa(U.value,I=>(z(),L(Se,{key:I.id,clickable:"",onMousedown:j=>_e(I.name,I.id),class:"hover:bg-blue-1"},{default:g(()=>[d(ne,null,{default:g(()=>[B(A(I.name),1)]),_:2},1024)]),_:2},1032,["onMousedown"]))),128)),oe.value?(z(),L(Se,{key:0,clickable:"",class:"text-green-6 hover:bg-green-1",onMousedown:q[3]||(q[3]=I=>qe(a.value))},{default:g(()=>[d(ne,{avatar:""},{default:g(()=>[d(ue,{name:"add",color:"green"})]),_:1}),d(ne,null,{default:g(()=>[d(Me,null,{default:g(()=>[B('เพิ่ม "'+A(a.value.foodname)+'" ใหม่',1)]),_:1})]),_:1})]),_:1})):O("",!0)]),_:1})):O("",!0)]),V("div",wl,[V("div",kl,[d(ue,{name:"restaurant_menu",color:"primary",size:"sm",class:"q-mr-sm"}),q[14]||(q[14]=V("div",{class:"text-h6"},"ข้อมูลพื้นฐาน",-1))]),V("div",Sl,[V("div",Cl,[d(P,{modelValue:a.value.serving_size,"onUpdate:modelValue":q[4]||(q[4]=I=>a.value.serving_size=I),modelModifiers:{number:!0},label:`ปริมาณอาหาร (${W.value} kcal/g)`,type:"number",outlined:"",dense:"",suffix:"g"},null,8,["modelValue","label"])]),V("div",Il,[d(P,{modelValue:a.value.calories,"onUpdate:modelValue":q[5]||(q[5]=I=>a.value.calories=I),modelModifiers:{number:!0},label:"แคลอรี",type:"number",outlined:"",dense:"",suffix:"kcal"},null,8,["modelValue"])])])]),V("div",$l,[V("div",ql,[d(ue,{name:"pie_chart",color:"pink",size:"sm",class:"q-mr-sm"}),q[15]||(q[15]=V("div",{class:"text-h6"},"สารอาหารหลัก",-1))]),V("div",Yl,[V("div",zl,[d(P,{modelValue:a.value.carbs,"onUpdate:modelValue":q[6]||(q[6]=I=>a.value.carbs=I),modelModifiers:{number:!0},label:"คาร์โบไฮเดรต",type:"number",outlined:"",dense:"",suffix:"g"},null,8,["modelValue"])]),V("div",Ul,[d(P,{modelValue:a.value.protein,"onUpdate:modelValue":q[7]||(q[7]=I=>a.value.protein=I),modelModifiers:{number:!0},label:"โปรตีน",type:"number",outlined:"",dense:"",suffix:"g"},null,8,["modelValue"])])]),V("div",Nl,[V("div",Hl,[d(P,{modelValue:a.value.fat,"onUpdate:modelValue":q[8]||(q[8]=I=>a.value.fat=I),modelModifiers:{number:!0},label:"ไขมัน",type:"number",outlined:"",dense:"",suffix:"g"},null,8,["modelValue"])])])]),V("div",Fl,[V("div",Tl,[d(ue,{name:"science",color:"teal",size:"sm",class:"q-mr-sm"}),q[16]||(q[16]=V("div",{class:"text-h6"},"วิตามินและเกลือแร่",-1))]),V("div",Ol,[V("div",Ll,[d(P,{step:"0.1",modelValue:a.value.leucine,"onUpdate:modelValue":q[9]||(q[9]=I=>a.value.leucine=I),modelModifiers:{number:!0},label:"ลูซีน",type:"number",outlined:"",dense:"",suffix:"g"},null,8,["modelValue"])]),V("div",Al,[d(P,{step:"0.1",modelValue:a.value.magnesium,"onUpdate:modelValue":q[10]||(q[10]=I=>a.value.magnesium=I),modelModifiers:{number:!0},label:"แมกนีเซียม",type:"number",outlined:"",dense:"",suffix:"mg"},null,8,["modelValue"])]),V("div",jl,[d(P,{step:"0.1",modelValue:a.value.zinc,"onUpdate:modelValue":q[11]||(q[11]=I=>a.value.zinc=I),modelModifiers:{number:!0},label:"ซิงค์",type:"number",outlined:"",dense:"",suffix:"mg"},null,8,["modelValue"])])])])]),b.value==!1?(z(),L(J,{key:0,disable:!k.value,onClick:ye,color:"primary",label:"บันทึก",class:"full-width"},null,8,["disable"])):O("",!0),b.value==!0?(z(),L(J,{key:1,disable:!k.value,onClick:q[12]||(q[12]=I=>M(a.value)),color:"primary",label:"เพิ่มเมนูอาหารใหม่",class:"full-width"},null,8,["disable"])):O("",!0)]),_:1}))}}),El=Lt(Pl,[["__scopeId","data-v-d85ee3b1"]]);function Ge(e,n=new WeakMap){if(Object(e)!==e)return e;if(n.has(e))return n.get(e);const v=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const i=e.valueOf();if(Object(i)!==i){const a=new e.constructor(i);return n.set(e,a),a}}return n.set(e,v),e instanceof Set?e.forEach(i=>{v.add(Ge(i,n))}):e instanceof Map&&e.forEach((i,a)=>{v.set(a,Ge(i,n))}),Object.assign(v,...Object.keys(e).map(i=>({[i]:Ge(e[i],n)})))}const xe=Ie({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:n,emit:v}){const{proxy:i}=Je(),{$q:a}=i,u=p(null),m=p(""),o=p("");let x=!1;const N=Y(()=>Ft({initialValue:m.value,validate:e.validate,set:h,cancel:b,updatePosition:E},"value",()=>o.value,S=>{o.value=S}));function h(){e.validate(o.value)!==!1&&(s()===!0&&(v("save",o.value,m.value),v("update:modelValue",o.value)),c())}function b(){s()===!0&&v("cancel",o.value,m.value),c()}function E(){mt(()=>{u.value.updatePosition()})}function s(){return ga(o.value,m.value)===!1}function c(){x=!0,u.value.hide()}function k(){x=!1,m.value=Ge(e.modelValue),o.value=Ge(e.modelValue),v("beforeShow")}function $(){v("show")}function W(){x===!1&&s()===!0&&(e.autoSave===!0&&e.validate(o.value)===!0?(v("save",o.value,m.value),v("update:modelValue",o.value)):v("cancel",o.value,m.value)),v("beforeHide")}function be(){v("hide")}function K(){const S=n.default!==void 0?[].concat(n.default(N.value)):[];return e.title&&S.unshift(w("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&S.push(w("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[w(J,{flat:!0,color:e.color,label:e.labelCancel||a.lang.label.cancel,onClick:b}),w(J,{flat:!0,color:e.color,label:e.labelSet||a.lang.label.set,onClick:h})])),S}return Object.assign(i,{set:h,cancel:b,show(S){u.value?.show(S)},hide(S){u.value?.hide(S)},updatePosition:E}),()=>{if(e.disable!==!0)return w(Ot,{ref:u,class:"q-popup-edit",cover:e.cover,onBeforeShow:k,onShow:$,onBeforeHide:W,onHide:be,onEscapeKey:b},K)}}}),Bl=Ie({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:n}){const v=Y(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>w("tr",{style:e.props?.__trStyle,class:v.value},Ze(n.default))}}),Ql={key:1},Rl={key:1},Zl={key:1},Gl={key:1},Jl={key:1},Wl={key:1},Xl={key:1},Kl={key:1},en={key:1},tn=We({__name:"FoodDataTable",props:{toDayCalsData:{}},emits:["update:data","delete:item","deleteid:id"],setup(e,{emit:n}){const v=e,i=[{name:"name",required:!0,label:"List Food",align:"left",field:b=>b.foodname,format:b=>`${b}`,sortable:!0},{name:"calories",align:"center",label:"calories",field:"calories",sortable:!0},{name:"carbs",align:"center",label:"carbs (g)",field:"carbs",sortable:!0},{name:"protein",align:"center",label:"protein (g)",field:"protein",sortable:!0},{name:"fat",align:"center",label:"fat (g)",field:"fat",sortable:!0},{name:"leucine",align:"center",label:"leucine (mg)",field:"leucine",sortable:!0},{name:"magnesium",align:"center",label:"magnesium (mg)",field:"magnesium",sortable:!0},{name:"zinc",align:"center",label:"zinc (g)",field:"zinc",sortable:!0},{name:"serving_size",align:"center",label:"serving (g)",field:"serving_size",sortable:!0},{name:"actions",label:"จัดการ",field:"actions",align:"center",sortable:!1}],a=p(null),u=n;function m(b){u("update:data",b),console.log("calorie by FoodDataTable",b.calories)}function o(b){a.value=b}function x(b){a.value=null,u("update:data",b)}function N(b,E){u("deleteid:id",E),u("delete:item",b)}function h(b,E,s){let c=b;s!=="foodname"&&typeof c=="string"&&(c=Number(b)||0);const k={...E,[s]:c};m(k)}return(b,E)=>(z(),L(Ia,{title:"รายการอาหารที่กิน",rows:v.toDayCalsData,columns:i,"row-key":"ID",dense:""},{body:g(s=>[d(Bl,{props:s},{default:g(()=>[d(ve,{key:"name",props:s},{default:g(()=>[a.value===s.rowIndex?(z(),L(P,{key:0,modelValue:s.row.foodname,"onUpdate:modelValue":c=>s.row.foodname=c,standout:"bg-teal text-white",dense:""},null,8,["modelValue","onUpdate:modelValue"])):O("",!0),a.value!==s.rowIndex?(z(),ce("span",Ql,[B(A(s.row.foodname)+" ",1),d(xe,{modelValue:s.row.foodname,"onUpdate:modelValue":c=>s.row.foodname=c,title:"Update calories",buttons:"",onSave:c=>h(c,s.row,"foodname")},{default:g(c=>[d(P,{type:"text",modelValue:c.value,"onUpdate:modelValue":k=>c.value=k,dense:"",autofocus:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])])):O("",!0)]),_:2},1032,["props"]),d(ve,{key:"name",props:s},{default:g(()=>[a.value===s.rowIndex?(z(),L(P,{key:0,modelValue:s.row.calories,"onUpdate:modelValue":c=>s.row.calories=c,standout:"bg-teal text-white",dense:""},null,8,["modelValue","onUpdate:modelValue"])):O("",!0),a.value!==s.rowIndex?(z(),ce("span",Rl,[B(A(s.row.calories)+" ",1),d(xe,{modelValue:s.row.calories,"onUpdate:modelValue":c=>s.row.calories=c,title:"Update calories",buttons:"",onSave:c=>h(c,s.row,"calories")},{default:g(c=>[d(P,{type:"text",modelValue:c.value,"onUpdate:modelValue":k=>c.value=k,dense:"",autofocus:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])])):O("",!0)]),_:2},1032,["props"]),d(ve,{key:"name",props:s},{default:g(()=>[a.value===s.rowIndex?(z(),L(P,{key:0,modelValue:s.row.carbs,"onUpdate:modelValue":c=>s.row.carbs=c,standout:"bg-teal text-white",dense:""},null,8,["modelValue","onUpdate:modelValue"])):O("",!0),a.value!==s.rowIndex?(z(),ce("span",Zl,[B(A(s.row.carbs)+" ",1),d(xe,{modelValue:s.row.carbs,"onUpdate:modelValue":c=>s.row.carbs=c,title:"Update carbs",buttons:"",onSave:c=>h(c,s.row,"carbs")},{default:g(c=>[d(P,{type:"text",modelValue:c.value,"onUpdate:modelValue":k=>c.value=k,dense:"",autofocus:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])])):O("",!0)]),_:2},1032,["props"]),d(ve,{key:"name",props:s},{default:g(()=>[a.value===s.rowIndex?(z(),L(P,{key:0,modelValue:s.row.protein,"onUpdate:modelValue":c=>s.row.protein=c,standout:"bg-teal text-white",dense:""},null,8,["modelValue","onUpdate:modelValue"])):O("",!0),a.value!==s.rowIndex?(z(),ce("span",Gl,[B(A(s.row.protein)+" ",1),d(xe,{modelValue:s.row.protein,"onUpdate:modelValue":c=>s.row.protein=c,title:"Update protein",buttons:"",onSave:c=>h(c,s.row,"protein")},{default:g(c=>[d(P,{type:"text",modelValue:c.value,"onUpdate:modelValue":k=>c.value=k,dense:"",autofocus:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])])):O("",!0)]),_:2},1032,["props"]),d(ve,{key:"name",props:s},{default:g(()=>[a.value===s.rowIndex?(z(),L(P,{key:0,modelValue:s.row.fat,"onUpdate:modelValue":c=>s.row.fat=c,standout:"bg-teal text-white",dense:""},null,8,["modelValue","onUpdate:modelValue"])):O("",!0),a.value!==s.rowIndex?(z(),ce("span",Jl,[B(A(s.row.fat)+" ",1),d(xe,{modelValue:s.row.fat,"onUpdate:modelValue":c=>s.row.fat=c,title:"Update fat",buttons:"",onSave:c=>h(c,s.row,"fat")},{default:g(c=>[d(P,{type:"text",modelValue:c.value,"onUpdate:modelValue":k=>c.value=k,dense:"",autofocus:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])])):O("",!0)]),_:2},1032,["props"]),d(ve,{key:"name",props:s},{default:g(()=>[a.value===s.rowIndex?(z(),L(P,{key:0,modelValue:s.row.leucine,"onUpdate:modelValue":c=>s.row.leucine=c,standout:"bg-teal text-white",dense:""},null,8,["modelValue","onUpdate:modelValue"])):O("",!0),a.value!==s.rowIndex?(z(),ce("span",Wl,[B(A(s.row.leucine)+" ",1),d(xe,{modelValue:s.row.leucine,"onUpdate:modelValue":c=>s.row.leucine=c,title:"Update leucine",buttons:"",onSave:c=>h(c,s.row,"leucine")},{default:g(c=>[d(P,{type:"text",modelValue:c.value,"onUpdate:modelValue":k=>c.value=k,dense:"",autofocus:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])])):O("",!0)]),_:2},1032,["props"]),d(ve,{key:"name",props:s},{default:g(()=>[a.value===s.rowIndex?(z(),L(P,{key:0,modelValue:s.row.magnesium,"onUpdate:modelValue":c=>s.row.magnesium=c,standout:"bg-teal text-white",dense:""},null,8,["modelValue","onUpdate:modelValue"])):O("",!0),a.value!==s.rowIndex?(z(),ce("span",Xl,[B(A(s.row.magnesium)+" ",1),d(xe,{modelValue:s.row.magnesium,"onUpdate:modelValue":c=>s.row.magnesium=c,title:"Update magnesium",buttons:"",onSave:c=>h(c,s.row,"magnesium")},{default:g(c=>[d(P,{type:"text",modelValue:c.value,"onUpdate:modelValue":k=>c.value=k,dense:"",autofocus:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])])):O("",!0)]),_:2},1032,["props"]),d(ve,{key:"name",props:s},{default:g(()=>[a.value===s.rowIndex?(z(),L(P,{key:0,modelValue:s.row.zinc,"onUpdate:modelValue":c=>s.row.zinc=c,standout:"bg-teal text-white",dense:""},null,8,["modelValue","onUpdate:modelValue"])):O("",!0),a.value!==s.rowIndex?(z(),ce("span",Kl,[B(A(s.row.zinc)+" ",1),d(xe,{modelValue:s.row.zinc,"onUpdate:modelValue":c=>s.row.zinc=c,title:"Update zinc",buttons:"",onSave:c=>h(c,s.row,"zinc")},{default:g(c=>[d(P,{type:"text",modelValue:c.value,"onUpdate:modelValue":k=>c.value=k,dense:"",autofocus:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])])):O("",!0)]),_:2},1032,["props"]),d(ve,{key:"name",props:s},{default:g(()=>[a.value===s.rowIndex?(z(),L(P,{key:0,modelValue:s.row.serving_size,"onUpdate:modelValue":c=>s.row.serving_size=c,standout:"bg-teal text-white",dense:""},null,8,["modelValue","onUpdate:modelValue"])):O("",!0),a.value!==s.rowIndex?(z(),ce("span",en,[B(A(s.row.serving_size)+" ",1),d(xe,{modelValue:s.row.serving_size,"onUpdate:modelValue":c=>s.row.serving_size=c,title:"Update serving_size",buttons:"",onSave:c=>h(c,s.row,"serving_size")},{default:g(c=>[d(P,{type:"text",modelValue:c.value,"onUpdate:modelValue":k=>c.value=k,dense:"",autofocus:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])])):O("",!0)]),_:2},1032,["props"]),a.value===s.rowIndex?(z(),L(ve,{key:0},{default:g(()=>[d(J,{size:"sm",color:"teal",dense:"",round:"",icon:"check",onClick:c=>x(s.row)},null,8,["onClick"])]),_:2},1024)):(z(),L(ve,{key:1},{default:g(()=>[d(J,{size:"sm",color:"amber-8",dense:"",round:"",title:"แก้ไขข้อมูลรายการ",icon:"edit_document",onClick:c=>o(s.rowIndex)},null,8,["onClick"]),d(J,{class:"q-ml-sm",props:v,size:"sm",color:"negative",icon:"delete",title:`ลบ${s.row.foodname}จากรายการ`,onClick:c=>N(s.rowIndex,s.row.ID),dense:"",round:""},null,8,["props","title","onClick"])]),_:2},1024))]),_:2},1032,["props"])]),_:1},8,["rows"]))}}),an={class:"row"},ln={class:"col-sm-4",style:{padding:"15px"}},nn={class:"row justify-center items-center q-mt-sm"},on={class:"row items-center justify-end"},un={class:"col-sm-8",style:{padding:"15px"}},rn={class:"q-pa-sm bg-blue-1 rounded-borders"},sn={class:"text-center text-h6 text-weight-medium q-mb-md text-grey-8"},dn=We({__name:"CalorieForm",setup(e){const n=p(!1),v=new Date().toISOString().split("T")[0]?.replaceAll("-","/"),i=p([]);function a(y){return y?u.value=i.value.filter(M=>M.date===y):u.value=i.value.filter(M=>M.date===v)}const u=p([]),m=p({user_id:Number(localStorage.getItem("UserID")),date:v,foodname:"",calories:null,serving_size:null,carbs:null,protein:null,fat:null,leucine:null,magnesium:null,zinc:null});re(m,y=>{n.value=y.foodname!==""},{deep:!0});const o=[{name:"name",required:!0,label:"List Food",align:"left",field:y=>y.foodname,format:y=>`${y}`,sortable:!0},{name:"calories",align:"center",label:"calories",field:"calories",sortable:!0},{name:"carbs",align:"center",label:"carbs (g)",field:"carbs",sortable:!0},{name:"protein",align:"center",label:"protein (g)",field:"protein",sortable:!0},{name:"fat",align:"center",label:"fat (g)",field:"fat",sortable:!0},{name:"leucine",align:"center",label:"leucine (mg)",field:"leucine",sortable:!0},{name:"magnesium",align:"center",label:"magnesium (mg)",field:"magnesium",sortable:!0},{name:"zinc",align:"center",label:"zinc (g)",field:"zinc",sortable:!0},{name:"serving_size",align:"center",label:"serving (g)",field:"serving_size",sortable:!0},{name:"actions",label:"จัดการ",field:"actions",align:"center",sortable:!1}];p([]);const x=p(""),N=ft(y=>{x.value=y.toLocaleLowerCase(),te.value=!1},100);re(()=>m.value.foodname,y=>{te.value=!0,N(y)});const h=p(null),b=p(null),E=p(null),s=p(null),c=p(null),k=p(null),$=p(null),W=p(0),be=p(0),K=p(0),S=p(0),X=p(0),Ve=p(0);re(()=>m.value.serving_size,y=>{h.value!==null&&typeof y=="number"&&y>0&&(m.value.calories=Math.round(h.value*y*100)/100),b.value!==null&&typeof y=="number"&&y>0&&(m.value.protein=W.value=Math.round(b.value*y*100)/100),E.value!==null&&typeof y=="number"&&y>0&&(m.value.fat=be.value=Math.round(E.value*y*100)/100),s.value!==null&&typeof y=="number"&&y>0&&(m.value.carbs=K.value=Math.round(s.value*y*100)/100),c.value!==null&&typeof y=="number"&&y>0&&(m.value.leucine=S.value=Math.round(c.value*y*100)/100),k.value!==null&&typeof y=="number"&&y>0&&(m.value.magnesium=X.value=Math.round(k.value*y*100)/100),$.value!==null&&typeof y=="number"&&y>0&&(m.value.zinc=Ve.value=Math.round($.value*y*100)/100),y==0&&(m.value.calories=null)});function me(y){const M=new Set,F=[];for(const ye of y){const f=`${ye.id}`,q=`${ye.name}`;!M.has(f)&&!M.has(q)&&(M.add(f),F.push(ye))}return F}const ee=p([]),ae="https://api-w4ic.onrender.com",te=p(!1),R=p(!1),se=async()=>{try{R.value=!0,te.value=!0;const y=localStorage.getItem("authToken"),M=await fetch(`${ae}/api/GetCals/${localStorage.getItem("UserID")}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}}),F=await fetch(`${ae}/api/users/${localStorage.getItem("UserID")}`,{method:"GET",headers:{"Content-Type":"application/json"}}),ye=await fetch("/data/clean_food_menu.json");if(ye.ok){ee.value=await ye.json();const f=me(ee.value);ee.value=f}else alert("ไม่สามารถโหลดไฟล์ได้");if(M.ok?(R.value=!1,i.value=await M.json(),a(m.value.date)):(ha.create({type:"negative",position:"top-right",message:`Login Failed! ${await M.text()}`}),localStorage.removeItem("authToken")),F.ok){const f=await F.json();_e.value=f[0].name,U.value.Weight=f[0].weight,U.value.ID=f[0].ID,U.value.Height=f[0].height,U.value.Age=f[0].age,U.value.Gender=f[0].gender,U.value.ActivityLevel=f[0].activity_level,U.value.Fat=f[0].fat,U.value.TargetCals=f[0].target_cals,U.value.Name=f[0].name,U.value.Email=f[0].email,U.value.Password=f[0].password,qe.value=f[0].activity_level,console.log("UserData",f),console.log("UserCals",U)}}catch(y){console.error("เกิดข้อผิดพลาด:",y)}finally{te.value=!1}},le=!!localStorage.getItem("authToken");function fe(){localStorage.removeItem("authToken"),localStorage.removeItem("UserID"),window.location.reload()}Tt(async()=>{te.value=!0;try{await se(),a(m.value.date)}catch(y){console.error("เกิดข้อผิดพลาดใน onMounted:",y)}});function ge(y){console.log(y),localStorage.setItem("caloriesData",JSON.stringify(i.value)),Ye()}async function $e(y){const M=i.value.findIndex(F=>F.ID===y);if(M!==-1)i.value.splice(M,1);else{await se();return}try{const F=await fetch(`${ae}/api/delete/${y}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});console.log("📡 Response:",F),await se()}catch(F){console.error("error",F)}}const U=p({ID:null,Name:null,Email:null,Password:null,Age:null,Weight:65,Height:170,Fat:null,Gender:null,ActivityLevel:1.725,TargetCals:null});async function oe(y){console.log("ActivityLevel",y.ActivityLevel);const M={ID:y.ID,name:y.Name,email:y.Email,password:y.Password,gender:y.Gender,fat:Number(y.Fat),age:Number(y.Age),weight:Number(y.Weight),height:Number(y.Height),activity_level:Number(y.ActivityLevel),target_cals:Number(y.TargetCals)};try{await fetch(`${ae}/api/updateUserCals/${y.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`${localStorage.getItem("authToken")}`},body:JSON.stringify(M)})}catch(F){console.error("error",F)}}const _e=p("โปรดเข้าสู่ระบบ"),qe=p(1.725),he=p([]),Ye=()=>{const y=localStorage.getItem("customFoods"),M=localStorage.getItem("caloriesData");y&&(he.value=JSON.parse(y),ee.value=[...ee.value,...he.value]),M&&(i.value=JSON.parse(M))};re(()=>m.value.date,()=>{a(m.value.date)});const Ne=async y=>{console.log("รับข้อมูลจาก child:",y),await se()};async function Be(y){console.log("calorie:",y.calories);const M={date:y.date,foodname:y.foodname,calories:Number(y.calories),serving_size:Number(y.serving_size),carbs:Number(y.carbs),protein:Number(y.protein),fat:Number(y.fat),leucine:Number(y.leucine),magnesium:Number(y.magnesium),zinc:Number(y.zinc)};try{await fetch(`${ae}/api/update/${y.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`${localStorage.getItem("authToken")}`},body:JSON.stringify(M)})}catch(F){console.error("error",F)}}return(y,M)=>(z(),ce(ht,null,[d(xa,null,{default:g(()=>[V("div",an,[V("div",ln,[d(Ee,{class:"q-pa-md shadow-2 rounded-borders",style:{}},{default:g(()=>[d(et,{class:"text-center"},{default:g(()=>[M[12]||(M[12]=V("div",{class:"text-h5 text-primary"},"Calorie Tracker",-1)),V("div",nn,[M[11]||(M[11]=V("div",{class:"text-subtitle2 text-grey q-mr-sm"},"บันทึกแคลอรีประจำวัน",-1)),d(P,{style:{"max-width":"160px"},class:"q-ml-sm",filled:"",modelValue:m.value.date,"onUpdate:modelValue":M[1]||(M[1]=F=>m.value.date=F),mask:"date",rules:["date"]},{append:g(()=>[d(ue,{name:"event",class:"cursor-pointer"},{default:g(()=>[d(Ga,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:g(()=>[d(Za,{modelValue:m.value.date,"onUpdate:modelValue":M[0]||(M[0]=F=>m.value.date=F)},{default:g(()=>[V("div",on,[ya(d(J,{label:"Close",color:"primary",flat:""},null,512),[[$a]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),d(qa)]),_:1,__:[12]}),d(El,{date:m.value.date,caloriesData:i.value,onFoodAdded:Ne},null,8,["date","caloriesData"])]),_:1})]),V("div",un,[d(Ee,{class:"q-pa-md shadow-2 rounded-borders",style:{width:"100%"}},{default:g(()=>[V("div",rn,[d(Xa,{showing:R.value},{default:g(()=>[d(Wa,{size:"50px",color:"primary"}),M[13]||(M[13]=V("div",{class:"text-primary q-mt-sm"},A("กำลังดึงข้อมูลผู้ใช้..."),-1))]),_:1,__:[13]},8,["showing"]),d(Se,null,{default:g(()=>[d(ne,{top:"",avatar:""},{default:g(()=>[d($t,null,{default:g(()=>[d($t,{color:"orange-10","text-color":"white",icon:"whatshot"})]),_:1})]),_:1}),d(Dl,{weight:U.value.Weight??65,body_fat:U.value.Fat??0,"activity-level":U.value.ActivityLevel??0,toDayCalsData:u.value},null,8,["weight","body_fat","activity-level","toDayCalsData"]),d(ne,{side:"",top:""},{default:g(()=>[d(Ue,{color:"primary"},{default:g(()=>[d(ue,{name:"restaurant_menu ",class:"q-mr-xs"}),B(" ( "+A(u.value.length||0)+" ) ",1)]),_:1})]),_:1})]),_:1}),d(el,{class:"q-mt-md bg-grey-2 text-grey-9 rounded-borders"},{avatar:g(()=>[d(ue,{name:"inventory_2",color:"primary"})]),default:g(()=>[M[14]||(M[14]=B(" จำนวนอาหารในระบบ: ",-1)),V("strong",null,A(ee.value.length),1),M[15]||(M[15]=B(" รายการ ",-1))]),_:1,__:[14,15]})])]),_:1}),u.value.length>0?(z(),L(et,{key:0,style:{width:"100%",margin:"0",padding:"0"}},{default:g(()=>[d(tn,{toDayCalsData:u.value,colum:o,"onUpdate:data":M[2]||(M[2]=F=>Be(F)),"onDelete:item":ge,"onDeleteid:id":$e},null,8,["toDayCalsData"])]),_:1})):O("",!0),le?(z(),L(Ee,{key:1,class:"my-card health-metrics-card",style:{"margin-top":"2rem"},flat:"",bordered:""},{default:g(()=>[V("div",sn,[B(" ข้อมูลสุขภาพของคุณ "+A(_e.value)+" ",1),d(J,{class:"absolute-top-right q-mt-sm q-mr-sm",flat:"",round:"",dense:"",icon:"logout",color:"negative",title:"ออกจากระบบ",onClick:fe})]),d(J,{flat:"",round:"",dense:"",icon:"logout",color:"white",title:"ออกจากระบบ"}),d(Da,{class:"row col-md-12"},{default:g(()=>[d(sl,{weight:U.value.Weight,"onUpdate:weight":[M[3]||(M[3]=F=>U.value.Weight=F),M[7]||(M[7]=F=>oe(U.value))],height:U.value.Height,"onUpdate:height":[M[4]||(M[4]=F=>U.value.Height=F),M[8]||(M[8]=F=>oe(U.value))],body_fat:U.value.Fat,"onUpdate:body_fat":[M[5]||(M[5]=F=>U.value.Fat=F),M[9]||(M[9]=F=>oe(U.value))],activityLevel:U.value.ActivityLevel,"onUpdate:activityLevel":[M[6]||(M[6]=F=>U.value.ActivityLevel=F),M[10]||(M[10]=F=>oe(U.value))]},null,8,["weight","height","body_fat","activityLevel"])]),_:1})]),_:1})):(z(),L(Ee,{key:2,class:"my-card health-metrics-card",style:{"margin-top":"2rem"},flat:"",bordered:""},{default:g(()=>[d(et,{class:"text-center"},{default:g(()=>M[16]||(M[16]=[V("div",{class:"text-h6 text-weight-medium text-grey-8"}," กรุณาเข้าสู่ระบบเพื่อบันทึกข้อมูลสุขภาพของคุณ ",-1)])),_:1,__:[16]})]),_:1}))])])]),_:1}),M[17]||(M[17]=V("hr",null,null,-1))],64))}}),yn=Lt(dn,[["__scopeId","data-v-3878f80f"]]);export{yn as default};
